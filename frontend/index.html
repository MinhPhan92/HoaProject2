<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Contracts</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="container">
      <h1>T·∫°o h·ª£p ƒë·ªìng thu√™ xe</h1>
      <div class="actions">
        <button id="openCreateModal" class="btn primary">New Contract</button>
      </div>
    </header>

    <main class="container">
      <section class="card">
        <h2>Th√¥ng tin thu√™ xe</h2>
        <form id="contractForm" class="grid">
          <div class="field">
            <label for="customerSelect">Kh√°ch h√†ng</label>
            <select id="customerSelect" required>
              <option value="" disabled selected>Ch·ªçn kh√°ch h√†ng</option>
            </select>
          </div>

          <div class="field">
            <label for="sourceSelect">Ngu·ªìn</label>
            <select id="sourceSelect">
              <option selected>Walk-in</option>
              <option>Facebook</option>
              <option>Website</option>
              <option>Referral</option>
            </select>
          </div>

          <div class="field">
            <label for="startDate">Ng√†y thu√™</label>
            <input type="datetime-local" id="startDate" />
          </div>

          <div class="field">
            <label for="endDate">Ng√†y tr·∫£</label>
            <input type="datetime-local" id="endDate" />
          </div>

          <div class="field">
            <label for="branchPickup">Chi nh√°nh thu√™ xe</label>
            <select id="branchPickup" disabled>
              <option selected>Chi nh√°nh m·∫∑c ƒë·ªãnh</option>
            </select>
          </div>

          <div class="field">
            <label for="branchReturn">Chi nh√°nh tr·∫£ xe</label>
            <select id="branchReturn">
              <option value="" disabled selected>Ch·ªçn chi nh√°nh</option>
              <option>Chi nh√°nh A</option>
              <option>Chi nh√°nh B</option>
            </select>
          </div>

          <div class="field">
            <label><input type="checkbox" id="needDeliveryPickup" /> C·∫ßn v·∫≠n chuy·ªÉn giao xe t·∫≠n n∆°i</label>
          </div>

          <div class="field">
            <label><input type="checkbox" id="needDeliveryReturn" /> C·∫ßn v·∫≠n chuy·ªÉn nh·∫≠n xe t·∫≠n n∆°i</label>
          </div>

          <div class="field">
            <label for="pickupLocation">ƒê·ªãa ƒëi·ªÉm giao xe</label>
            <input type="text" id="pickupLocation" />
          </div>

          <div class="field">
            <label for="returnLocation">ƒê·ªãa ƒëi·ªÉm tr·∫£ xe</label>
            <input type="text" id="returnLocation" />
          </div>

          <div class="field span-2">
            <label for="notes">Ghi ch√∫</label>
            <textarea id="notes" rows="3"></textarea>
          </div>
        </form>
      </section>

      <section class="card">
        <div class="table-header">
          <h2>Danh s√°ch xe thu√™</h2>
          <div class="table-actions">
            <button id="addVehicleBtn" class="btn"><span>Ôºã</span> Ch·ªçn xe</button>
          </div>
        </div>
        <div class="table-wrapper">
          <table id="rentedVehiclesTable">
            <thead>
              <tr>
                <th>STT</th>
                <th>Lo·∫°i xe</th>
                <th>Xe</th>
                <th>Bi·ªÉn s·ªë xe</th>
                <th class="right">Gi√°/ng√†y</th>
                <th class="right">Gi√°/gi·ªù</th>
                <th class="right">Ti·ªÅn thu√™</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td><input class="input" value="Xe s·ªë" /></td>
                <td><input class="input" value="Honda Wave Alpha" /></td>
                <td><input class="input" value="59A1-12345" /></td>
                <td class="right"><input class="input right" value="150,000" /></td>
                <td class="right"><input class="input right" value="15,000" /></td>
                <td class="right"><input class="input right" value="300,000" /></td>
                <td><button class="btn danger" title="X√≥a">üóë</button></td>
              </tr>
              <tr>
                <td>2</td>
                <td><input class="input" value="Xe s·ªë" /></td>
                <td><input class="input" value="Honda Wave Alpha" /></td>
                <td><input class="input" value="59A1-54321" /></td>
                <td class="right"><input class="input right" value="150,000" /></td>
                <td class="right"><input class="input right" value="15,000" /></td>
                <td class="right"><input class="input right" value="300,000" /></td>
                <td><button class="btn danger" title="X√≥a">üóë</button></td>
              </tr>
              <tr>
                <td>3</td>
                <td><input class="input" value="Xe ga" /></td>
                <td><input class="input" value="Yamaha PG-1" /></td>
                <td><input class="input" value="59A1-13578" /></td>
                <td class="right"><input class="input right" value="150,000" /></td>
                <td class="right"><input class="input right" value="15,000" /></td>
                <td class="right"><input class="input right" value="300,000" /></td>
                <td><button class="btn danger" title="X√≥a">üóë</button></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="table-footer right">
          <strong>T·ªïng ti·ªÅn thu√™ xe: 900.000 ƒë</strong>
        </div>
      </section>

      <section class="card">
        <div class="table-header">
          <h2>Danh s√°ch ph·ª• thu</h2>
          <div class="table-actions">
            <button id="addSurchargeBtn" class="btn"><span>Ôºã</span> Th√™m ph·ª• thu</button>
          </div>
        </div>
        <div class="table-wrapper">
          <table id="surchargesTable">
            <thead>
              <tr>
                <th>STT</th>
                <th>L√Ω do thu</th>
                <th class="right">S·ªë ti·ªÅn</th>
                <th>Ghi ch√∫</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>
                  <select class="input">
                    <option>Ph√≠ v·∫≠n chuy·ªÉn giao/nh·∫≠n xe t·∫≠n n∆°i</option>
                    <option>Ph√≠ tr·∫£ xe t·∫°i khu v·ª±c kh√°c</option>
                    <option>Ph√≠ kh√°c</option>
                  </select>
                </td>
                <td class="right"><input class="input right" value="50,000" /></td>
                <td><input class="input" value="V·∫≠n chuy·ªÉn t·ªõi ch·ªó kh√°ch" /></td>
                <td><button class="btn danger" title="X√≥a">üóë</button></td>
              </tr>
              <tr>
                <td>2</td>
                <td>
                  <select class="input">
                    <option selected>Ph√≠ tr·∫£ xe t·∫°i khu v·ª±c kh√°c</option>
                    <option>Ph√≠ v·∫≠n chuy·ªÉn giao/nh·∫≠n xe t·∫≠n n∆°i</option>
                    <option>Ph√≠ kh√°c</option>
                  </select>
                </td>
                <td class="right"><input class="input right" value="450,000" /></td>
                <td><input class="input" value="Kh√°ch tr·∫£ xe t·∫°i H√† N·ªôi" /></td>
                <td><button class="btn danger" title="X√≥a">üóë</button></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="table-footer right">
          <strong>T·ªïng ti·ªÅn ph·ª• thu: 500.000 ƒë</strong>
        </div>
      </section>

      <section class="card">
        <h2>Th√¥ng tin thanh to√°n</h2>
        <div class="grid">
          <div class="field">
            <label for="discountType">Lo·∫°i gi·∫£m gi√°</label>
            <select id="discountType">
              <option selected>Theo gi√° tr·ªã</option>
              <option>Theo ph·∫ßn trƒÉm</option>
              <option>Kh√¥ng gi·∫£m</option>
            </select>
          </div>
          <div class="field">
            <label for="discountValue">Gi√° tr·ªã</label>
            <input id="discountValue" class="right" value="100,000" />
          </div>

          <div class="field">
            <label for="deposit">Ti·ªÅn ƒë·∫∑t c·ªçc</label>
            <input id="deposit" class="right" value="11,000,000" />
          </div>
          <div class="field">
            <label for="paymentMethod">Ph∆∞∆°ng th·ª©c thanh to√°n</label>
            <select id="paymentMethod">
              <option selected>Chuy·ªÉn kho·∫£n ng√¢n h√†ng</option>
              <option>Ti·ªÅn m·∫∑t</option>
              <option>Th·∫ª</option>
            </select>
          </div>
        </div>

        <div class="grid">
          <div></div>
          <div>
            <div class="summary">
              <div class="row"><span>T·ªïng ti·ªÅn thu√™ xe</span><strong>900,000 ƒë</strong></div>
              <div class="row"><span>Ph·ª• thu</span><strong>500,000 ƒë</strong></div>
              <div class="row"><span>Gi·∫£m gi√°</span><strong>100,000 ƒë</strong></div>
              <div class="row"><span>ƒê·∫∑t c·ªçc</span><strong>11,000,000 ƒë</strong></div>
            </div>
          </div>
        </div>

        <div class="form-actions right">
          <button type="button" class="btn">H·ªßy</button>
          <button type="button" class="btn primary" id="saveContractBtn">L∆∞u h·ª£p ƒë·ªìng</button>
        </div>
      </section>
    </main>

    <!-- Vehicle Select Modal -->
    <div id="selectVehicleModal" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
      <div class="modal-backdrop" data-close></div>
      <div class="modal-dialog" role="document">
        <header class="modal-header">
          <h3>T√¨m xe</h3>
          <button class="icon-button" data-close aria-label="Close">‚úï</button>
        </header>
        <div class="modal-body">
          <div class="field span-2" style="margin-bottom: 12px;">
            <input class="input" type="search" placeholder="T√¨m theo T√™n xe, Bi·ªÉn s·ªë" />
          </div>
          <div class="table-wrapper">
            <table style="width:100%">
              <tbody>
                <tr>
                  <td style="width:36px"><input type="checkbox" /></td>
                  <td>
                    <div><strong>Mazda CX5 2020</strong></div>
                    <div class="text-dim">30E-42103</div>
                  </td>
                  <td style="width:170px" class="right">
                    <input class="input right" value="0" /> <span>/ng√†y</span>
                  </td>
                  <td style="width:170px" class="right">
                    <input class="input right" value="0" /> <span>/gi·ªù</span>
                  </td>
                </tr>
                <tr>
                  <td><input type="checkbox" /></td>
                  <td>
                    <div><strong>Toyota Vios 2019</strong></div>
                    <div class="text-dim">29A-15678</div>
                  </td>
                  <td class="right"><input class="input right" value="0" /> <span>/ng√†y</span></td>
                  <td class="right"><input class="input right" value="0" /> <span>/gi·ªù</span></td>
                </tr>
                <tr>
                  <td><input type="checkbox" /></td>
                  <td>
                    <div><strong>Honda City 2021</strong></div>
                    <div class="text-dim">51G-98765</div>
                  </td>
                  <td class="right"><input class="input right" value="0" /> <span>/ng√†y</span></td>
                  <td class="right"><input class="input right" value="0" /> <span>/gi·ªù</span></td>
                </tr>
                <tr>
                  <td><input type="checkbox" /></td>
                  <td>
                    <div><strong>Hyundai Accent 2020</strong></div>
                    <div class="text-dim">43B-23456</div>
                  </td>
                  <td class="right"><input class="input right" value="0" /> <span>/ng√†y</span></td>
                  <td class="right"><input class="input right" value="0" /> <span>/gi·ªù</span></td>
                </tr>
                <tr>
                  <td><input type="checkbox" /></td>
                  <td>
                    <div><strong>Kia Morning 2018</strong></div>
                    <div class="text-dim">60A-87654</div>
                  </td>
                  <td class="right"><input class="input right" value="0" /> <span>/ng√†y</span></td>
                  <td class="right"><input class="input right" value="0" /> <span>/gi·ªù</span></td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="form-actions right" style="margin-top: 12px;">
            <button type="button" class="btn" data-close>H·ªßy</button>
            <button type="button" class="btn primary" id="confirmAddVehicles">Th√™m xe</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Surcharge Modal -->
    <div id="surchargeModal" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
      <div class="modal-backdrop" data-close></div>
      <div class="modal-dialog" role="document">
        <header class="modal-header">
          <h3>Th√™m m·ªõi ph·ª• thu</h3>
          <button class="icon-button" data-close aria-label="Close">‚úï</button>
        </header>
        <div class="modal-body">
          <form class="grid" id="surchargeForm">
            <div class="field span-2">
              <label for="surchargeReason">L√Ω do thu*</label>
              <select id="surchargeReason" required>
                <option value="" disabled selected>Ch·ªçn l√Ω do thu</option>
                <option>Ph√≠ v·∫≠n chuy·ªÉn giao/nh·∫≠n xe t·∫≠n n∆°i</option>
                <option>Ph√≠ tr·∫£ xe t·∫°i khu v·ª±c kh√°c</option>
                <option>Ph√≠ v·ªá sinh/kh√°c</option>
              </select>
            </div>
            <div class="field span-2">
              <label for="surchargeQty">S·ªë l∆∞·ª£ng*</label>
              <input id="surchargeQty" type="number" min="1" value="1" required />
            </div>
            <div class="field span-2">
              <label for="surchargePrice">ƒê∆°n gi√°*</label>
              <div style="display:flex; gap:8px; align-items:center;">
                <input id="surchargePrice" type="number" min="0" value="0" required style="flex:1;" />
                <span>VND</span>
              </div>
            </div>
            <div class="field span-2">
              <label for="surchargeNotes">Ghi ch√∫*</label>
              <textarea id="surchargeNotes" rows="3" placeholder="Nh·∫≠p ghi ch√∫ v·ªÅ ph·ª• thu"></textarea>
            </div>
            <div class="field span-2">
              <label>T·ªïng ti·ªÅn</label>
              <div class="input" style="display:flex; justify-content:space-between; align-items:center; background:var(--bg-elev);">
                <span></span>
                <strong id="surchargeTotal">0 VND</strong>
              </div>
            </div>
            <div class="form-actions span-2 right">
              <button type="button" class="btn" data-close>Tho√°t</button>
              <button type="button" class="btn primary" id="addSurchargeConfirm">Th√™m m·ªõi</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div id="createModal" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
      <div class="modal-backdrop" data-close></div>
      <div class="modal-dialog" role="document">
        <header class="modal-header">
          <h3>New Contract</h3>
          <button class="icon-button" data-close aria-label="Close">‚úï</button>
        </header>
        <div class="modal-body">
          <form id="modalContractForm" class="grid">
            <div class="field">
              <label for="modalCustomer">Customer</label>
              <select id="modalCustomer" required></select>
            </div>
            <div class="field">
              <label for="modalVehicle">Vehicle</label>
              <select id="modalVehicle" required></select>
            </div>
            <div class="field">
              <label for="modalStaff">Responsible Staff</label>
              <select id="modalStaff" required></select>
            </div>
            <div class="field">
              <label for="modalStart">Start Date</label>
              <input type="date" id="modalStart" required />
            </div>
            <div class="field">
              <label for="modalEnd">End Date</label>
              <input type="date" id="modalEnd" required />
            </div>
            <div class="field">
              <label for="modalStatus">Vehicle Status</label>
              <input type="text" id="modalStatus" />
            </div>
            <div class="field">
              <label for="modalAmount">Total Amount</label>
              <input type="number" id="modalAmount" min="0" step="0.01" />
            </div>
            <div class="field span-2">
              <label for="modalNotes">Notes</label>
              <textarea id="modalNotes" rows="3"></textarea>
            </div>
            <div class="form-actions span-2">
              <button type="submit" class="btn primary">Create</button>
              <button type="button" class="btn" data-close>Cancel</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Contract View Modal -->
    <div id="contractViewModal" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
      <div class="modal-backdrop" data-close></div>
      <div class="modal-dialog" role="document" style="max-width: 1060px;">
        <header class="modal-header">
          <h3>Xem h·ª£p ƒë·ªìng thu√™ xe</h3>
          <button class="icon-button" data-close aria-label="Close">‚úï</button>
        </header>
        <div class="modal-body" style="height:72vh; padding:0;">
          <iframe id="contractViewFrame" src="contract-view.html" style="width:100%; height:100%; border:0;"></iframe>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
  </html>


